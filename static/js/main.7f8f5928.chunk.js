(this["webpackJsonpreact-project"]=this["webpackJsonpreact-project"]||[]).push([[0],{10:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(4),a=n.n(c),s=(n(9),n(2)),u=(n(10),n(0));var i=function(e){var t=e.x,n=e.y,r=e.value,c=e.onClick,a=e.winnerCells,s="square";return"O"===r&&(s="square positionO"),a.forEach((function(e){e[0]===t&&e[1]===n&&"X"===r?s="square won":e[0]===t&&e[1]===n&&"O"===r&&(s="square wonO")})),Object(u.jsx)("div",{className:s,onClick:function(){c(t,n)},children:r})};var l=function(e){var t=e.square,n=e.winnerCells,r=e.onClick;return Object(u.jsx)("div",{className:"board-row",children:Array.from(Array(t.length).keys()).map((function(e){return Object(u.jsx)("div",{children:Array.from(Array(t[0].length).keys()).map((function(c){return Object(u.jsx)(i,{x:e,y:c,value:0===t[e][c]?"":t[e][c],onClick:function(e,t){return r(e,t)},winnerCells:n})}))})}))})};function o(e){var t=e.isPlaying,n=e.onAcceptClick,c=Object(r.useState)(5),a=Object(s.a)(c,2),i=a[0],l=a[1],o=Object(r.useState)(5),j=Object(s.a)(o,2),b=j[0],O=j[1],f=Object(r.useState)(""),p=Object(s.a)(f,2),h=p[0],m=p[1];return Object(u.jsxs)("div",{className:"game-setting",children:[Object(u.jsx)("p",{className:"game-setting__title",children:"Game Setting"}),Object(u.jsx)("input",{type:"number",min:"5",placeholder:"Input row number",className:"input_form",value:i,disabled:t,onChange:function(e){return l(parseInt(e.target.value))}}),Object(u.jsx)("input",{type:"number",min:"5",placeholder:"Input column number",className:"input_form",value:b,name:"col",disabled:t,onChange:function(e){return O(parseInt(e.target.value))}}),h&&Object(u.jsx)("p",{children:h}),Object(u.jsx)("button",{onClick:function(){if(!t){if(i<5)return m("The row number must be > 5");if(b<5)return m("The column number must be > 5");n(i,b),m("")}},className:"btn",children:"Apply setting"})]})}var j=function(){var e=Object(r.useState)({x:5,y:5}),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(s.a)(a,2),j=i[0],b=i[1],O=Object(r.useState)(!1),f=Object(s.a)(O,2),p=f[0],h=f[1],m=Object(r.useState)(!0),d=Object(s.a)(m,2),x=d[0],v=d[1],y=Object(r.useState)([{squares:Array(n.x).fill().map((function(){return Array(n.y).fill(0)})),x:null,y:null}]),g=Object(s.a)(y,2),S=g[0],C=g[1],k=Object(r.useState)(0),N=Object(s.a)(k,2),q=N[0],w=N[1],A=Object(r.useState)(S[q].squares),I=Object(s.a)(A,2),_=I[0],J=I[1],E=Object(r.useState)([]),G=Object(s.a)(E,2),T=G[0],X=G[1],P=Object(r.useState)([]),z=Object(s.a)(P,2),B=z[0],D=z[1],M=Object(r.useState)(0),F=Object(s.a)(M,2),H=F[0],K=F[1];function L(e,t){if(5!==B.length){j||b(!0);var r=S.slice(0,q+1),c=r[r.length-1],a=JSON.parse(JSON.stringify(c.squares));if(0===a[e][t]){K(H+1),a[e][t]=x?"X":"O";var s=function(e,t,r){var c=S[q].squares.slice(),a=[],s=e,u=t;a.push([e,t]);var i=1;s=e-1;for(;s>=0&&c[s][u]===r;)a.push([s,u]),i++,s--;s=e+1;for(;s<n.x&&c[s][u]===r;)a.push([s,u]),i++,s++;if(i>=5)return a;(a=[]).push([e,t]);var l=1;s=e,u=t-1;for(;u>=0&&c[s][u]===r;)a.push([s,u]),l++,u--;u=t+1;for(;s<n.y&&c[s][u]===r;)a.push([s,u]),l++,u++;if(l>=5)return a;(a=[]).push([e,t]);var o=1;u=t-1,s=e-1;for(;u>=0&&s>=0&&c[s][u]===r;)a.push([s,u]),o++,u--,s--;s=e+1,u=t+1;for(;s<n.x&&u<n.y&&c[s][u]===r;)o++,a.push([s,u]),s++,u++;if(o>=5)return a;(a=[]).push([e,t]);var j=1;s=e-1,u=t+1;for(;u<n.y&&s>=0&&c[s][u]===r;)j++,a.push([s,u]),u++,s--;s=e+1,u=t-1;for(;s<n.x&&u>=0&&c[s][u]===r;)j++,a.push([s,u]),s++,u--;if(j>=5)return a;return!1}(e,t,a[e][t]);s&&D(s);var u=r.concat([{squares:a,x:e,y:t}]);J(a),C(u),w(q+1),v(!x)}}}function Q(e){J(S[e].squares),w(e),v(e%2===0)}Object(r.useEffect)((function(){var e=S.map((function(e,t){p&&(t=S.length-1-t);var n=t?"Move #".concat(t," - (").concat(S[t].x,",").concat(S[t].y,")"):"Game start";return t?Object(u.jsx)("li",{children:Object(u.jsx)("button",{onClick:function(){return Q(t)},children:t===q?Object(u.jsxs)("b",{children:[" ",n," "]}):n})},t):Object(u.jsx)("li",{children:Object(u.jsx)("button",{onClick:function(){return function(e){Q(e),D([])}(t)},children:q?n:Object(u.jsxs)("b",{children:[" ",n," "]})})},t)}));X(e)}),[q,p]);var R=H===n.x*n.y?"Draw Game":5===B.length?"The winner is: "+_[B[0][0]][B[0][1]]:"Next player: "+(x?"X":"O");return Object(u.jsx)("div",{className:"game",children:Object(u.jsxs)("div",{className:"game-info",children:[Object(u.jsx)(o,{isPlaying:j,onAcceptClick:function(e,t){var n=[{squares:Array(parseInt(e)).fill().map((function(){return Array(parseInt(t)).fill(0)})),x:null,y:null}];c({x:parseInt(e),y:parseInt(t)}),J(n[0].squares),C(n)},ascending:p,setAscending:h}),Object(u.jsx)(l,{square:_,size:n,winnerCells:B,onClick:function(e,t){L(e,t)}}),Object(u.jsxs)("div",{className:"game-status",children:[Object(u.jsx)("p",{className:"game-status__title",children:R}),Object(u.jsx)("div",{children:T}),Object(u.jsx)("button",{onClick:function(){h(!p)},className:"btn",children:p?"Sort ascending":"Sort descending"})]})]})})};a.a.render(Object(u.jsx)(j,{}),document.getElementById("root"))},9:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.7f8f5928.chunk.js.map